<div class="detail-panel">
  <!-- Tab bar -->
  <div class="tab-bar">
    <div class="tab-list">
      @for (tab of tabs; track tab.id) {
        <div
          class="tab"
          [class.active]="tab.id === activeTabId"
          [class.pinned]="tab.pinned"
          (click)="activate(tab.id)"
          [title]="tab.label"
        >
          <span class="tab-icon">
            @if (tab.type === "rack") {
              ğŸ–¥ï¸
            } @else {
              ğŸ“‹
            }
          </span>
          <span class="tab-label">{{ tab.label }}</span>
          @if (!tab.pinned) {
            <button
              class="tab-close"
              (click)="close(tab.id, $event)"
              [title]="'detail_panel.close_tab' | translate"
            >
              Ã—
            </button>
          }
        </div>
      }
    </div>
    <button
      class="panel-close-btn"
      (click)="closePanel()"
      [title]="'detail_panel.close_panel' | translate"
    >
      â†“
    </button>
  </div>

  <!-- Content -->
  <div class="tab-content">
    @if (activeTab?.type === "rack") {
      @if (loading) {
        <div class="loading">{{ "detail_panel.loading_rack" | translate }}</div>
      } @else if (activeRack) {
        <app-rack />
      } @else {
        <div class="loading">
          {{ "detail_panel.rack_not_found" | translate }}
        </div>
      }
    }
  </div>
</div>
