<div class="detail-panel">
  <div class="detail-grid">
    <div class="detail-section">
      <h4 class="detail-section-title">
        {{ "asset_row.section_id" | translate }}
      </h4>
      <dl class="detail-list">
        <div class="detail-item">
          <dt>{{ "asset_row.hostname" | translate }}</dt>
          <dd>{{ asset().hostname || "—" }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.serial" | translate }}</dt>
          <dd class="mono">{{ asset().serial_number || "—" }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.sap_id" | translate }}</dt>
          <dd class="mono">{{ asset().sap_id || "—" }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.order_id" | translate }}</dt>
          <dd class="mono">{{ asset().order_id || "—" }}</dd>
        </div>
      </dl>
    </div>

    <div class="detail-section">
      <h4 class="detail-section-title">
        {{ "asset_row.section_device" | translate }}
      </h4>
      <dl class="detail-list">
        <div class="detail-item">
          <dt>{{ "asset_row.name" | translate }}</dt>
          <dd>{{ asset().model.name || "—" }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.vendor" | translate }}</dt>
          <dd>{{ asset().model.vendor.name }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.type" | translate }}</dt>
          <dd>{{ asset().model.type.name }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.rack_units" | translate }}</dt>
          <dd>{{ asset().model.rack_units }}U</dd>
        </div>
      </dl>
    </div>

    <div class="detail-section">
      <h4 class="detail-section-title">
        {{ "asset_row.section_lifecycle" | translate }}
      </h4>
      <dl class="detail-list">
        <div class="detail-item">
          <dt>{{ "asset_row.purchase" | translate }}</dt>
          <dd>{{ formatDate(asset().purchase_date) }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.warranty" | translate }}</dt>
          <dd
            [class.date--expired]="
              asset().warranty_expiration &&
              $any(asset().warranty_expiration) < $any(today())
            "
          >
            {{ formatDate(asset().warranty_expiration) }}
          </dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.support" | translate }}</dt>
          <dd
            [class.date--expired]="
              asset().support_expiration &&
              $any(asset().support_expiration) < $any(today())
            "
          >
            {{ formatDate(asset().support_expiration) }}
          </dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.decommission" | translate }}</dt>
          <dd>{{ formatDate(asset().decommissioned_date) }}</dd>
        </div>
      </dl>
    </div>

    <div class="detail-section">
      <h4 class="detail-section-title">
        {{ "asset_row.section_hardware" | translate }}
      </h4>
      <dl class="detail-list">
        <div class="detail-item">
          <dt>{{ "asset_row.power_supplies" | translate }}</dt>
          <dd>{{ asset().power_supplies ?? "—" }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.power_consumption" | translate }}</dt>
          <dd>
            {{
              asset().power_cosumption_watt
                ? asset().power_cosumption_watt + " W"
                : "—"
            }}
          </dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.created" | translate }}</dt>
          <dd>{{ formatDate(asset().created_at) }}</dd>
        </div>
        <div class="detail-item">
          <dt>{{ "asset_row.updated" | translate }}</dt>
          <dd>{{ formatDate(asset().updated_at) }}</dd>
        </div>
      </dl>
    </div>
  </div>

  @if (asset().note) {
    <div class="detail-note">
      <h4 class="detail-section-title">
        {{ "asset_row.section_notes" | translate }}
      </h4>
      <p class="note-text">{{ asset().note }}</p>
    </div>
  }

  <div class="detail-actions">
    @if (deleteConfirmId() !== asset().id) {
      <button class="btn-delete" (click)="onDeleteRequest(asset().id, $event)">
        <svg viewBox="0 0 16 16" fill="none">
          <path
            d="M3 4h10M6 4V2.5h4V4M5 4l.5 9h5L11 4"
            stroke="currentColor"
            stroke-width="1.3"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        {{ "asset_row.delete_btn" | translate }}
      </button>
    } @else {
      @if (deleteSaveState() === "mounted") {
        <span class="delete-error">{{
          "asset_row.delete_mounted" | translate
        }}</span>
        <button class="btn-delete-cancel" (click)="onDeleteCancel($event)">
          {{ "asset_row.cancel" | translate }}
        </button>
      } @else {
        <span class="delete-confirm-text">{{
          "asset_row.delete_confirm_msg" | translate
        }}</span>
        <button
          class="btn-delete-confirm"
          [disabled]="deleteSaveState() === 'saving'"
          (click)="onDeleteConfirm(asset().id, $event)"
        >
          {{
            deleteSaveState() === "saving"
              ? ("asset_row.deleting" | translate)
              : ("asset_row.confirm_delete" | translate)
          }}
        </button>
        <button class="btn-delete-cancel" (click)="onDeleteCancel($event)">
          {{ "asset_row.cancel" | translate }}
        </button>
        @if (deleteSaveState() === "error") {
          <span class="delete-error">{{
            "asset_row.delete_error" | translate
          }}</span>
        }
      }
    }
  </div>
</div>
