<main class="content">
  <!-- ── Quick access ── -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">Accesso rapido</h2>
    </div>
    <div class="quick-grid">
      <button class="quick-card" (click)="onAssetsClick()">
        <div class="quick-card__icon quick-card__icon--assets">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.6"
          >
            <path d="M21 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2" />
            <rect x="3" y="8" width="18" height="13" rx="2" />
            <path d="M8 8v13M16 8v13" stroke-width="1.2" />
            <path d="M3 13h18" stroke-width="1.2" />
          </svg>
        </div>
        <div class="quick-card__body">
          <span class="quick-card__title">Asset</span>
          <span class="quick-card__desc"
            >Cerca, filtra e gestisci tutti gli apparati</span
          >
        </div>
        <svg class="quick-card__arrow" viewBox="0 0 16 16" fill="none">
          <path
            d="M6 4l4 4-4 4"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button class="quick-card" (click)="onVendorsClick()">
        <div class="quick-card__icon quick-card__icon--vendors">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.6"
          >
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
            <polyline points="9 22 9 12 15 12 15 22" />
          </svg>
        </div>
        <div class="quick-card__body">
          <span class="quick-card__title">Vendor</span>
          <span class="quick-card__desc"
            >Gestisci i produttori degli apparati</span
          >
        </div>
        <svg class="quick-card__arrow" viewBox="0 0 16 16" fill="none">
          <path
            d="M6 4l4 4-4 4"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button class="quick-card" (click)="onModelsClick()">
        <div class="quick-card__icon quick-card__icon--models">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.6"
          >
            <rect x="2" y="6" width="20" height="12" rx="2" />
            <path d="M6 6V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2" />
            <path d="M6 12h.01M10 12h8" stroke-width="1.4" />
          </svg>
        </div>
        <div class="quick-card__body">
          <span class="quick-card__title">Apparati</span>
          <span class="quick-card__desc">Catalogo degli apparati</span>
        </div>
        <svg class="quick-card__arrow" viewBox="0 0 16 16" fill="none">
          <path
            d="M6 4l4 4-4 4"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>
  </section>

  <!-- ── Locations ── -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">Location</h2>
      @if (!loading() && locations().length > 0) {
        <span class="section-count">{{ locations().length }}</span>
      }
    </div>

    @if (loading()) {
      <div class="skeleton-grid">
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
        <div class="skeleton-card"></div>
      </div>
    }

    @if (!loading() && locations().length === 0) {
      <div class="empty-state">
        <svg
          width="48"
          height="48"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.2"
        >
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
          <circle cx="12" cy="10" r="3" />
        </svg>
        <p>Nessuna location trovata.</p>
      </div>
    }

    @if (!loading() && locations().length > 0) {
      <div class="location-grid">
        @for (loc of locations(); track loc.id) {
          <div class="location-card">
            <div class="location-header">
              <div class="location-icon">
                <svg
                  width="17"
                  height="17"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                >
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                  <circle cx="12" cy="10" r="3" />
                </svg>
              </div>
              <div class="location-info">
                <div class="location-name">{{ loc.name }}</div>
                <div class="location-meta">
                  {{ loc.rooms.length }}
                  {{ loc.rooms.length === 1 ? "stanza" : "stanze" }}
                </div>
              </div>
              <div class="location-badge">{{ loc.rooms.length }}</div>
            </div>
            @if (loc.rooms.length > 0) {
              <div class="room-chips">
                @for (room of loc.rooms; track room.id) {
                  <button
                    class="room-chip"
                    (click)="onRoomClick(room.id!, room.name!)"
                  >
                    <svg
                      width="9"
                      height="9"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2.5"
                    >
                      <rect x="3" y="3" width="18" height="18" rx="2" />
                    </svg>
                    {{ room.name }}
                  </button>
                }
              </div>
            }
          </div>
        }
      </div>
    }
  </section>
</main>
