<div class="home">

  <!-- ── Hero ── -->
  <header class="hero">
    <div class="hero-content">
      <div class="hero-badge">Data Center Infrastructure Management</div>
      <h1 class="hero-title">
        Gestisci il tuo <span class="accent">datacenter</span>
      </h1>
      <p class="hero-subtitle">
        Planimetrie, rack, asset e connessioni in un'unica piattaforma
      </p>
      <div class="hero-actions">
        <span class="btn btn--primary">
          Seleziona una room qui sotto
          <svg
            width="15"
            height="15"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2.5"
          >
            <line x1="5" y1="12" x2="19" y2="12" />
            <polyline points="12 5 19 12 12 19" />
          </svg>
        </span>
      </div>
    </div>
    <div class="hero-image">
      <img src="logo.svg" alt="" class="hero-logo" />
    </div>
  </header>

  <!-- ── Stats ── -->
  @if (!loading && locations.length > 0) {
    <div class="stats-row">
      <div class="stat-item">
        <span class="stat-number">{{ locations.length }}</span>
        <span class="stat-label">Location</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number">{{ totalRooms }}</span>
        <span class="stat-label">Stanze</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number stat-number--online">Online</span>
        <span class="stat-label">Stato sistema</span>
      </div>
    </div>
  }

  <main class="content">
    <!-- ── Feature cards ── -->
    <section class="section">
      <h2 class="section-title">Strumenti</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-icon feature-icon--blue">
            <svg
              width="22"
              height="22"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.8"
            >
              <polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21" />
              <line x1="9" y1="3" x2="9" y2="18" />
              <line x1="15" y1="6" x2="15" y2="21" />
            </svg>
          </div>
          <div class="feature-body">
            <div class="feature-name">Editor planimetrie</div>
            <div class="feature-desc">
              Disegna rooms, corridoi e posiziona rack sulla mappa
            </div>
          </div>
          <div class="feature-arrow">→</div>
        </div>

        <div class="feature-card feature-card--disabled">
          <div class="feature-icon feature-icon--green">
            <svg
              width="22"
              height="22"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.8"
            >
              <rect x="2" y="2" width="20" height="8" rx="2" />
              <rect x="2" y="14" width="20" height="8" rx="2" />
              <line x1="6" y1="6" x2="6.01" y2="6" />
              <line x1="6" y1="18" x2="6.01" y2="18" />
            </svg>
          </div>
          <div class="feature-body">
            <div class="feature-name">
              Gestione rack
              <span class="tag">Prossimamente</span>
            </div>
            <div class="feature-desc">
              Visualizza e gestisci i server montati nei rack
            </div>
          </div>
        </div>

        <div class="feature-card feature-card--disabled">
          <div class="feature-icon feature-icon--orange">
            <svg
              width="22"
              height="22"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.8"
            >
              <path
                d="M20 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"
              />
              <line x1="9" y1="12" x2="9.01" y2="12" />
              <line x1="13" y1="12" x2="13.01" y2="12" />
            </svg>
          </div>
          <div class="feature-body">
            <div class="feature-name">
              Asset inventory
              <span class="tag">Prossimamente</span>
            </div>
            <div class="feature-desc">
              Censimento completo di hardware, cavi e componenti
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ── Locations ── -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">Location</h2>
        @if (!loading && locations.length > 0) {
          <span class="section-count">{{ locations.length }}</span>
        }
      </div>

      @if (loading) {
        <div class="skeleton-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      }

      @if (!loading && locations.length === 0) {
        <div class="empty-state">
          <svg
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.2"
          >
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
            <circle cx="12" cy="10" r="3" />
          </svg>
          <p>Nessuna location trovata.</p>
        </div>
      }

      @if (!loading && locations.length > 0) {
        <div class="location-grid">
          @for (loc of locations; track loc.id) {
            <div class="location-card">
              <div class="location-header">
                <div class="location-icon">
                  <svg
                    width="17"
                    height="17"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                  >
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                    <circle cx="12" cy="10" r="3" />
                  </svg>
                </div>
                <div class="location-info">
                  <div class="location-name">{{ loc.name }}</div>
                  <div class="location-meta">
                    {{ loc.rooms.length }}
                    {{ loc.rooms.length === 1 ? "stanza" : "stanze" }}
                  </div>
                </div>
                <div class="location-badge">{{ loc.rooms.length }}</div>
              </div>
              @if (loc.rooms.length > 0) {
                <div class="room-chips">
                  @for (room of loc.rooms; track room.id) {
                    <button
                      class="room-chip"
                      (click)="openRoom(room.id!, room.name!)"
                    >
                      <svg
                        width="9"
                        height="9"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2.5"
                      >
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                      </svg>
                      {{ room.name }}
                    </button>
                  }
                </div>
              }
            </div>
          }
        </div>
      }
    </section>
  </main>

  <footer class="footer">
    <span>Rack Mount DCIM</span>
    <span class="footer-dot">·</span>
    <span>Gestione infrastruttura datacenter</span>
  </footer>
</div>
