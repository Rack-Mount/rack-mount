<div class="home">
  <!-- ── Hero ── -->
  <header class="hero">
    <div class="hero-content">
      <div class="hero-badge">Data Center Infrastructure Management</div>
      <h1 class="hero-title">
        Gestisci il tuo <span class="accent">datacenter</span>
      </h1>
      <p class="hero-subtitle">
        Planimetrie, rack, asset e connessioni in un'unica piattaforma
      </p>
    </div>
    <div class="hero-image">
      <img src="logo.svg" alt="" class="hero-logo" />
    </div>
  </header>

  <!-- ── Stats ── -->
  @if (!loading && locations.length > 0) {
    <div class="stats-row">
      <div class="stat-item">
        <span class="stat-number">{{ locations.length }}</span>
        <span class="stat-label">Location</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number">{{ totalRooms }}</span>
        <span class="stat-label">Stanze</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-number stat-number--online">Online</span>
        <span class="stat-label">Stato sistema</span>
      </div>
    </div>
  }

  <main class="content">
    <!-- ── Locations ── -->
    <section class="section">
      <div class="section-header">
        <h2 class="section-title">Location</h2>
        @if (!loading && locations.length > 0) {
          <span class="section-count">{{ locations.length }}</span>
        }
      </div>

      @if (loading) {
        <div class="skeleton-grid">
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
          <div class="skeleton-card"></div>
        </div>
      }

      @if (!loading && locations.length === 0) {
        <div class="empty-state">
          <svg
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.2"
          >
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
            <circle cx="12" cy="10" r="3" />
          </svg>
          <p>Nessuna location trovata.</p>
        </div>
      }

      @if (!loading && locations.length > 0) {
        <div class="location-grid">
          @for (loc of locations; track loc.id) {
            <div class="location-card">
              <div class="location-header">
                <div class="location-icon">
                  <svg
                    width="17"
                    height="17"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.8"
                  >
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                    <circle cx="12" cy="10" r="3" />
                  </svg>
                </div>
                <div class="location-info">
                  <div class="location-name">{{ loc.name }}</div>
                  <div class="location-meta">
                    {{ loc.rooms.length }}
                    {{ loc.rooms.length === 1 ? "stanza" : "stanze" }}
                  </div>
                </div>
                <div class="location-badge">{{ loc.rooms.length }}</div>
              </div>
              @if (loc.rooms.length > 0) {
                <div class="room-chips">
                  @for (room of loc.rooms; track room.id) {
                    <button
                      class="room-chip"
                      (click)="openRoom(room.id!, room.name!)"
                    >
                      <svg
                        width="9"
                        height="9"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2.5"
                      >
                        <rect x="3" y="3" width="18" height="18" rx="2" />
                      </svg>
                      {{ room.name }}
                    </button>
                  }
                </div>
              }
            </div>
          }
        </div>
      }
    </section>
  </main>
</div>
